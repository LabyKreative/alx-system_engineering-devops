#!/usr/bin/env bash
# a script that configures a new Ubuntu machine to respect the specified requirements
# (this script will be run on the server itself)
# Installs nginx and configures it on a remote server

set -e  # Exit immediately if any command fails

# Update package lists and install nginx
apt-get update
apt-get install -y nginx

# Configure firewall to allow Nginx HTTP traffic
ufw allow 'Nginx HTTP'

# Create a custom index file with "Hello World!" message
echo 'Hello World!' > /var/www/html/index.nginx-debian.html

# Start nginx service
service nginx start

# Display a message indicating successful installation
echo "Nginx has been successfully installed and configured."
